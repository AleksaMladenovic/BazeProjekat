DROP TABLE "CAS" cascade constraints;
DROP TABLE "DETE_POLAZNIK" cascade constraints;
DROP TABLE "GRUPNI_KURS" cascade constraints;
DROP TABLE "HONORARAC" cascade constraints;
DROP TABLE "INDIVIDUALNI_KURS" cascade constraints;
DROP TABLE "INSTRUMENTALNI_KURS" cascade constraints;
DROP TABLE "KOMISIJA" cascade constraints;
DROP TABLE "KURS" cascade constraints;
DROP TABLE "LOKACIJA" cascade constraints;
DROP TABLE "MUZICKA_TEORIJA" cascade constraints;
DROP TABLE "NASTAVA" cascade constraints;
DROP TABLE "ODRASLI_POLAZNIK" cascade constraints;
DROP TABLE "ODVIJA_NA" cascade constraints;
DROP TABLE "OSOBA" cascade constraints;
DROP TABLE "PRIJAVLJEN" cascade constraints;
DROP TABLE "PRISUSTVO" cascade constraints;
DROP TABLE "SE_SASTOJI" cascade constraints;
DROP TABLE "STALNO_ZAP" cascade constraints;
DROP TABLE "UCIONICA" cascade constraints;
DROP TABLE "VOKALNI_KURS" cascade constraints;
DROP TABLE "ZAVRSNI_ISPIT" cascade constraints;

DROP SEQUENCE "CAS_ID_SEQ";
DROP SEQUENCE "KOMISIJA_ID_SEQ";
DROP SEQUENCE "KURS_ID_SEQ";
DROP SEQUENCE "NASTAVA_ID_SEQ";

DROP TRIGGER "CAS_AUTO_PK";
DROP TRIGGER "KOMISIJA_AUTO_PK";
DROP TRIGGER "KURS_AUTO_PK";
DROP TRIGGER "NASTAVA_AUTO_PK";
--------------------------------------------------------
--  DDL for Sequence CAS_ID_SEQ
--------------------------------------------------------
   CREATE SEQUENCE  "CAS_ID_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1003 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence KOMISIJA_ID_SEQ
--------------------------------------------------------
   CREATE SEQUENCE  "KOMISIJA_ID_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 2 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence KURS_ID_SEQ
--------------------------------------------------------
   CREATE SEQUENCE  "KURS_ID_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 6 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence NASTAVA_ID_SEQ
--------------------------------------------------------
   CREATE SEQUENCE  "NASTAVA_ID_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 106 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Table OSOBA
--------------------------------------------------------
  CREATE TABLE "OSOBA" 
   (	"JMBG" CHAR(13 BYTE), 
	"IME" VARCHAR2(50 BYTE), 
	"PREZIME" VARCHAR2(50 BYTE), 
	"TELEFON" VARCHAR2(20 BYTE), 
	"EMAIL" VARCHAR2(100 BYTE), 
	"ADRESA" VARCHAR2(100 BYTE), 
	"FPOLAZNIK" NUMBER(1,0) DEFAULT 0, 
	"FRODITELJ" NUMBER(1,0) DEFAULT 0, 
	"FNASTAVNIK" NUMBER(1,0) DEFAULT 0, 
	"DATUM_ZAPOSLENJA" DATE, 
	"STRUCNA_SPREMA" VARCHAR2(100 BYTE), 
	"JMBG_MENTORA" CHAR(13 BYTE)
   ) ;
--------------------------------------------------------
--  DDL for Table ODRASLI_POLAZNIK
--------------------------------------------------------
  CREATE TABLE "ODRASLI_POLAZNIK" 
   (	"JMBG" CHAR(13 BYTE), 
	"ZANIMANJE" VARCHAR2(100 BYTE)
   ) ;
--------------------------------------------------------
--  DDL for Table DETE_POLAZNIK
--------------------------------------------------------
  CREATE TABLE "DETE_POLAZNIK" 
   (	"JMBG" CHAR(13 BYTE), 
	"JBD" CHAR(13 BYTE), 
	"JMBG_RODITELJA" CHAR(13 BYTE)
   ) ;
--------------------------------------------------------
--  DDL for Table STALNO_ZAP
--------------------------------------------------------
  CREATE TABLE "STALNO_ZAP" 
   (	"JMBG" CHAR(13 BYTE), 
	"RADNO_VREME" VARCHAR2(50 BYTE)
   ) ;
--------------------------------------------------------
--  DDL for Table HONORARAC
--------------------------------------------------------
  CREATE TABLE "HONORARAC" 
   (	"JMBG" CHAR(13 BYTE), 
	"BROJ_UGOVORA" VARCHAR2(30 BYTE), 
	"TRAJANJE_UGOVORA" VARCHAR2(50 BYTE), 
	"BROJ_CASOVA" NUMBER(5,0)
   ) ;
--------------------------------------------------------
--  DDL for Table KURS
--------------------------------------------------------
  CREATE TABLE "KURS" 
   (	"ID_KURSA" NUMBER(10,0), 
	"NIVO" VARCHAR2(50 BYTE), 
	"NAZIV_KURSA" VARCHAR2(100 BYTE), 
	"JMBG_NASTAVNIKA" CHAR(13 BYTE)
   ) ;
--------------------------------------------------------
--  DDL for Table INSTRUMENTALNI_KURS
--------------------------------------------------------
  CREATE TABLE "INSTRUMENTALNI_KURS" 
   (	"ID_KURSA" NUMBER(10,0), 
	"FINSTRUMENT" NUMBER(1,0), 
	"INSTRUMENT" VARCHAR2(100 BYTE), 
	"FGRUPA_INSTRUMENATA" NUMBER(1,0), 
	"GRUPA_INSTRUMENATA" VARCHAR2(100 BYTE)
   ) ;
--------------------------------------------------------
--  DDL for Table VOKALNI_KURS
--------------------------------------------------------
  CREATE TABLE "VOKALNI_KURS" 
   (	"ID_KURSA" NUMBER(10,0), 
	"FINDIVIDUALNO_PEVANJE" NUMBER(1,0), 
	"FHORSKO_PEVANJE" NUMBER(1,0)
   ) ;
--------------------------------------------------------
--  DDL for Table MUZICKA_TEORIJA
--------------------------------------------------------
  CREATE TABLE "MUZICKA_TEORIJA" 
   (	"ID_KURSA" NUMBER(10,0), 
	"NAZIV_PREDMETA" VARCHAR2(100 BYTE)
   ) ;
--------------------------------------------------------
--  DDL for Table INDIVIDUALNI_KURS
--------------------------------------------------------
  CREATE TABLE "INDIVIDUALNI_KURS" 
   (	"ID_KURSA" NUMBER(10,0)
   ) ;
--------------------------------------------------------
--  DDL for Table GRUPNI_KURS
--------------------------------------------------------
  CREATE TABLE "GRUPNI_KURS" 
   (	"ID_KURSA" NUMBER(10,0)
   ) ;
--------------------------------------------------------
--  DDL for Table NASTAVA
--------------------------------------------------------
  CREATE TABLE "NASTAVA" 
   (	"ID_NASTAVE" NUMBER(10,0), 
	"DATUM_OD" DATE, 
	"DATUM_DO" DATE, 
	"ID_KURSA" NUMBER(10,0), 
	"FINDIVIDUALNA" NUMBER(1,0) DEFAULT 0, 
	"FGRUPNA" NUMBER(1,0) DEFAULT 0
   ) ;
--------------------------------------------------------
--  DDL for Table LOKACIJA
--------------------------------------------------------
  CREATE TABLE "LOKACIJA" 
   (	"ADRESA" VARCHAR2(100 BYTE), 
	"RADNO_VREME" VARCHAR2(50 BYTE)
   ) ;
--------------------------------------------------------
--  DDL for Table UCIONICA
--------------------------------------------------------
  CREATE TABLE "UCIONICA" 
   (	"NAZIV" VARCHAR2(50 BYTE), 
	"ADRESA" VARCHAR2(100 BYTE), 
	"OPREMLJENOST" VARCHAR2(4000 BYTE), 
	"KAPACITET" NUMBER(5,0)
   ) ;
--------------------------------------------------------
--  DDL for Table CAS
--------------------------------------------------------
  CREATE TABLE "CAS" 
   (	"ID_CASA" NUMBER(10,0), 
	"DATUM" DATE, 
	"VREME" DATE, 
	"TEMA" VARCHAR2(255 BYTE), 
	"JMBG_NASTAVNIKA" CHAR(13 BYTE), 
	"NAZIV_UCIONICE" VARCHAR2(50 BYTE), 
	"ADRESA_LOKACIJE" VARCHAR2(100 BYTE), 
	"ID_NASTAVE" NUMBER(10,0)
   ) ;
--------------------------------------------------------
--  DDL for Table PRISUSTVO
--------------------------------------------------------
  CREATE TABLE "PRISUSTVO" 
   (	"JMBG_POLAZNIKA" CHAR(13 BYTE), 
	"ID_CASA" NUMBER(10,0), 
	"OCENA" NUMBER(2,0)
   ) ;
--------------------------------------------------------
--  DDL for Table PRIJAVLJEN
--------------------------------------------------------
  CREATE TABLE "PRIJAVLJEN" 
   (	"JMBG_POLAZNIKA" CHAR(13 BYTE), 
	"ID_KURSA" NUMBER(10,0)
   ) ;
--------------------------------------------------------
--  DDL for Table KOMISIJA
--------------------------------------------------------
  CREATE TABLE "KOMISIJA" 
   (	"ID_KOMISIJE" NUMBER(10,0)
   ) ;
--------------------------------------------------------
--  DDL for Table ZAVRSNI_ISPIT
--------------------------------------------------------
  CREATE TABLE "ZAVRSNI_ISPIT" 
   (	"ID_KURSA" NUMBER(10,0), 
	"DATUM" DATE, 
	"OCENA" NUMBER(2,0), 
	"SERTIFIKAT" NUMBER(1,0) DEFAULT 0, 
	"ID_KOMISIJE" NUMBER(10,0), 
	"JMBG_POLAZNIKA" CHAR(13 BYTE)
   ) ;
--------------------------------------------------------
--  DDL for Table SE_SASTOJI
--------------------------------------------------------
  CREATE TABLE "SE_SASTOJI" 
   (	"ID_KOMISIJE" NUMBER(10,0), 
	"JMBG_NASTAVNIKA" CHAR(13 BYTE)
   ) ;
--------------------------------------------------------
--  DDL for Table ODVIJA_NA
--------------------------------------------------------
  CREATE TABLE "ODVIJA_NA" 
   (	"ID_KURSA" NUMBER(10,0), 
	"ADRESA" VARCHAR2(100 BYTE)
   ) ;

REM INSERTING into OSOBA
SET DEFINE OFF;
Insert into OSOBA (JMBG,IME,PREZIME,TELEFON,EMAIL,ADRESA,FPOLAZNIK,FRODITELJ,FNASTAVNIK,DATUM_ZAPOSLENJA,STRUCNA_SPREMA,JMBG_MENTORA) values ('0101990712345','Marko','Marković','0611234567','marko@mail.com','Bulevar 10','0','0','1',to_date('2010-08-15','YYYY-MM-DD'),'Master muzike',null);
Insert into OSOBA (JMBG,IME,PREZIME,TELEFON,EMAIL,ADRESA,FPOLAZNIK,FRODITELJ,FNASTAVNIK,DATUM_ZAPOSLENJA,STRUCNA_SPREMA,JMBG_MENTORA) values ('0202990712345','Jelena','Jovanović','0621234567','jelena@mail.com','Knez Mihailova 5','0','0','1',to_date('2015-04-12','YYYY-MM-DD'),'Bachelor muzike','0101990712345');
Insert into OSOBA (JMBG,IME,PREZIME,TELEFON,EMAIL,ADRESA,FPOLAZNIK,FRODITELJ,FNASTAVNIK,DATUM_ZAPOSLENJA,STRUCNA_SPREMA,JMBG_MENTORA) values ('0303990712345','Ivan','Ivić','0631234567','ivan@mail.com','Ulica 20','1','0','0',null,null,null);
Insert into OSOBA (JMBG,IME,PREZIME,TELEFON,EMAIL,ADRESA,FPOLAZNIK,FRODITELJ,FNASTAVNIK,DATUM_ZAPOSLENJA,STRUCNA_SPREMA,JMBG_MENTORA) values ('0404990712345','Mira','Mirić','0641234567','mira@mail.com','Zmaj Jovina 15','1','0','0',null,null,null);
Insert into OSOBA (JMBG,IME,PREZIME,TELEFON,EMAIL,ADRESA,FPOLAZNIK,FRODITELJ,FNASTAVNIK,DATUM_ZAPOSLENJA,STRUCNA_SPREMA,JMBG_MENTORA) values ('0505990712345','Ana','Antić','0651234567','ana@mail.com','Njegoševa 7','1','0','0',null,null,null);
Insert into OSOBA (JMBG,IME,PREZIME,TELEFON,EMAIL,ADRESA,FPOLAZNIK,FRODITELJ,FNASTAVNIK,DATUM_ZAPOSLENJA,STRUCNA_SPREMA,JMBG_MENTORA) values ('0301988012341','Miloš','Antić','0621536567','milos.antic@mail.com','Njegoševa 7','0','1','0',null,null,null);
REM INSERTING into ODRASLI_POLAZNIK
SET DEFINE OFF;
Insert into ODRASLI_POLAZNIK (JMBG,ZANIMANJE) values ('0303990712345','Inženjer elektrotehnike');
Insert into ODRASLI_POLAZNIK (JMBG,ZANIMANJE) values ('0404990712345','Student muzike');
REM INSERTING into DETE_POLAZNIK
SET DEFINE OFF;
Insert into DETE_POLAZNIK (JMBG,JBD,JMBG_RODITELJA) values ('0505990712345','0000000000001','0301988012341');
REM INSERTING into STALNO_ZAP
SET DEFINE OFF;
Insert into STALNO_ZAP (JMBG,RADNO_VREME) values ('0101990712345','08:00-16:00');
REM INSERTING into HONORARAC
SET DEFINE OFF;
Insert into HONORARAC (JMBG,BROJ_UGOVORA,TRAJANJE_UGOVORA,BROJ_CASOVA) values ('0202990712345','1','2 godine','20');
REM INSERTING into KURS
SET DEFINE OFF;
Insert into KURS (ID_KURSA,NIVO,NAZIV_KURSA,JMBG_NASTAVNIKA) values ('1','Početni','Gitara za početnike','0101990712345');
Insert into KURS (ID_KURSA,NIVO,NAZIV_KURSA,JMBG_NASTAVNIKA) values ('2','Srednji','Horsko pevanje','0202990712345');
Insert into KURS (ID_KURSA,NIVO,NAZIV_KURSA,JMBG_NASTAVNIKA) values ('3','Napredni','Muzicka teorija I','0202990712345');
Insert into KURS (ID_KURSA,NIVO,NAZIV_KURSA,JMBG_NASTAVNIKA) values ('4','Napredni','Duvački instrumenti','0101990712345');
Insert into KURS (ID_KURSA,NIVO,NAZIV_KURSA,JMBG_NASTAVNIKA) values ('5','Napredni','Solističko pevanje','0202990712345');
REM INSERTING into INSTRUMENTALNI_KURS
SET DEFINE OFF;
Insert into INSTRUMENTALNI_KURS (ID_KURSA,FINSTRUMENT,INSTRUMENT,FGRUPA_INSTRUMENATA,GRUPA_INSTRUMENATA) values ('1','1','Gitara','0',null);
Insert into INSTRUMENTALNI_KURS (ID_KURSA,FINSTRUMENT,INSTRUMENT,FGRUPA_INSTRUMENATA,GRUPA_INSTRUMENATA) values ('4','0',null,'1','Duvački instrumenti');
REM INSERTING into VOKALNI_KURS
SET DEFINE OFF;
Insert into VOKALNI_KURS (ID_KURSA,FINDIVIDUALNO_PEVANJE,FHORSKO_PEVANJE) values ('2','0','1');
Insert into VOKALNI_KURS (ID_KURSA,FINDIVIDUALNO_PEVANJE,FHORSKO_PEVANJE) values ('5','1','0');
REM INSERTING into MUZICKA_TEORIJA
SET DEFINE OFF;
Insert into MUZICKA_TEORIJA (ID_KURSA,NAZIV_PREDMETA) values ('3','Osnove muzičke teorije');
REM INSERTING into NASTAVA
SET DEFINE OFF;
Insert into NASTAVA (ID_NASTAVE,DATUM_OD,DATUM_DO,ID_KURSA,FINDIVIDUALNA,FGRUPNA) values ('101',to_date('2024-09-01','YYYY-MM-DD'),to_date('2024-12-20','YYYY-MM-DD'),'1','1','0');
Insert into NASTAVA (ID_NASTAVE,DATUM_OD,DATUM_DO,ID_KURSA,FINDIVIDUALNA,FGRUPNA) values ('102',to_date('2021-09-01','YYYY-MM-DD'),to_date('2022-12-20','YYYY-MM-DD'),'2','0','1');
Insert into NASTAVA (ID_NASTAVE,DATUM_OD,DATUM_DO,ID_KURSA,FINDIVIDUALNA,FGRUPNA) values ('103',to_date('2025-12-01','YYYY-MM-DD'),to_date('2025-12-20','YYYY-MM-DD'),'4','1','0');
Insert into NASTAVA (ID_NASTAVE,DATUM_OD,DATUM_DO,ID_KURSA,FINDIVIDUALNA,FGRUPNA) values ('104',to_date('2022-09-01','YYYY-MM-DD'),to_date('2023-12-20','YYYY-MM-DD'),'5','1','0');
Insert into NASTAVA (ID_NASTAVE,DATUM_OD,DATUM_DO,ID_KURSA,FINDIVIDUALNA,FGRUPNA) values ('105',to_date('2020-09-01','YYYY-MM-DD'),to_date('2021-11-20','YYYY-MM-DD'),'3','0','1');
REM INSERTING into LOKACIJA
SET DEFINE OFF;
Insert into LOKACIJA (ADRESA,RADNO_VREME) values ('Bulevar 10','08:00-20:00');
Insert into LOKACIJA (ADRESA,RADNO_VREME) values ('Knez Mihailova 5','09:00-18:00');
REM INSERTING into UCIONICA
SET DEFINE OFF;
Insert into UCIONICA (NAZIV,ADRESA,OPREMLJENOST,KAPACITET) values ('Ucionica 1','Bulevar 10','Klavir, gitara, stolice','20');
Insert into UCIONICA (NAZIV,ADRESA,OPREMLJENOST,KAPACITET) values ('Ucionica 2','Knez Mihailova 5','Mikrofoni, stolice','15');
Insert into UCIONICA (NAZIV,ADRESA,OPREMLJENOST,KAPACITET) values ('Ucionica 3','Bulevar 10','Trube, saksofon, frule','22');
Insert into UCIONICA (NAZIV,ADRESA,OPREMLJENOST,KAPACITET) values ('Sala 1','Knez Mihailova 5','Veliki zvucnici, gitare, bubnjevi, klavijature','50');
REM INSERTING into CAS
SET DEFINE OFF;
Insert into CAS (ID_CASA,DATUM,VREME,TEMA,JMBG_NASTAVNIKA,NAZIV_UCIONICE,ADRESA_LOKACIJE,ID_NASTAVE) values ('1001',to_date('2024-09-10','YYYY-MM-DD'),to_date('10:00','HH24:MI'),'Uvod u gitaru','0202990712345','Ucionica 1','Bulevar 10','101');
Insert into CAS (ID_CASA,DATUM,VREME,TEMA,JMBG_NASTAVNIKA,NAZIV_UCIONICE,ADRESA_LOKACIJE,ID_NASTAVE) values ('1002',to_date('2021-12-11','YYYY-MM-DD'),to_date('11:00','HH24:MI'),'Vežbe za horsko pevanje','0202990712345','Ucionica 2','Knez Mihailova 5','102');
REM INSERTING into PRISUSTVO
SET DEFINE OFF;
Insert into PRISUSTVO (JMBG_POLAZNIKA,ID_CASA,OCENA) values ('0404990712345','1001','8');
Insert into PRISUSTVO (JMBG_POLAZNIKA,ID_CASA,OCENA) values ('0505990712345','1002','9');
REM INSERTING into PRIJAVLJEN
SET DEFINE OFF;
Insert into PRIJAVLJEN (JMBG_POLAZNIKA,ID_KURSA) values ('0404990712345','1');
Insert into PRIJAVLJEN (JMBG_POLAZNIKA,ID_KURSA) values ('0505990712345','2');
Insert into PRIJAVLJEN (JMBG_POLAZNIKA,ID_KURSA) values ('0303990712345','4');
REM INSERTING into KOMISIJA
SET DEFINE OFF;
Insert into KOMISIJA (ID_KOMISIJE) values ('1');
REM INSERTING into SE_SASTOJI
SET DEFINE OFF;
Insert into SE_SASTOJI (ID_KOMISIJE,JMBG_NASTAVNIKA) values ('1','0101990712345');
Insert into SE_SASTOJI (ID_KOMISIJE,JMBG_NASTAVNIKA) values ('1','0202990712345');
REM INSERTING into ZAVRSNI_ISPIT
SET DEFINE OFF;
Insert into ZAVRSNI_ISPIT (ID_KURSA,DATUM,OCENA,SERTIFIKAT,ID_KOMISIJE,JMBG_POLAZNIKA) values ('1',to_date('2024-12-25','YYYY-MM-DD'),'9','1','1','0404990712345');
Insert into ZAVRSNI_ISPIT (ID_KURSA,DATUM,OCENA,SERTIFIKAT,ID_KOMISIJE,JMBG_POLAZNIKA) values ('2',to_date('2022-12-30','YYYY-MM-DD'),'8','0','1','0505990712345');
REM INSERTING into ODVIJA_NA
SET DEFINE OFF;
Insert into ODVIJA_NA (ID_KURSA,ADRESA) values ('1','Bulevar 10');
Insert into ODVIJA_NA (ID_KURSA,ADRESA) values ('2','Knez Mihailova 5');
Insert into ODVIJA_NA (ID_KURSA,ADRESA) values ('3','Bulevar 10');
Insert into ODVIJA_NA (ID_KURSA,ADRESA) values ('4','Knez Mihailova 5');
Insert into ODVIJA_NA (ID_KURSA,ADRESA) values ('5','Bulevar 10');
--------------------------------------------------------
--  DDL for Index & Primary Keys
--------------------------------------------------------
CREATE UNIQUE INDEX "OSOBA_PK" ON "OSOBA" ("JMBG");
ALTER TABLE "OSOBA" ADD CONSTRAINT "OSOBA_PK" PRIMARY KEY ("JMBG") ENABLE;
CREATE UNIQUE INDEX "ODRASLI_POLAZNIK_PK" ON "ODRASLI_POLAZNIK" ("JMBG");
ALTER TABLE "ODRASLI_POLAZNIK" ADD CONSTRAINT "ODRASLI_POLAZNIK_PK" PRIMARY KEY ("JMBG") ENABLE;
CREATE UNIQUE INDEX "DETE_POLAZNIK_PK" ON "DETE_POLAZNIK" ("JMBG");
ALTER TABLE "DETE_POLAZNIK" ADD CONSTRAINT "DETE_POLAZNIK_PK" PRIMARY KEY ("JMBG") ENABLE;
CREATE UNIQUE INDEX "STALNO_ZAP_PK" ON "STALNO_ZAP" ("JMBG");
ALTER TABLE "STALNO_ZAP" ADD CONSTRAINT "STALNO_ZAP_PK" PRIMARY KEY ("JMBG") ENABLE;
CREATE UNIQUE INDEX "HONORARAC_PK" ON "HONORARAC" ("JMBG");
ALTER TABLE "HONORARAC" ADD CONSTRAINT "HONORARAC_PK" PRIMARY KEY ("JMBG") ENABLE;
CREATE UNIQUE INDEX "KURS_PK" ON "KURS" ("ID_KURSA");
ALTER TABLE "KURS" ADD CONSTRAINT "KURS_PK" PRIMARY KEY ("ID_KURSA") ENABLE;
CREATE UNIQUE INDEX "INSTRUMENTALNI_KURS_PK" ON "INSTRUMENTALNI_KURS" ("ID_KURSA");
ALTER TABLE "INSTRUMENTALNI_KURS" ADD CONSTRAINT "INSTRUMENTALNI_KURS_PK" PRIMARY KEY ("ID_KURSA") ENABLE;
CREATE UNIQUE INDEX "VOKALNI_KURS_PK" ON "VOKALNI_KURS" ("ID_KURSA");
ALTER TABLE "VOKALNI_KURS" ADD CONSTRAINT "VOKALNI_KURS_PK" PRIMARY KEY ("ID_KURSA") ENABLE;
CREATE UNIQUE INDEX "MUZICKA_TEORIJA_PK" ON "MUZICKA_TEORIJA" ("ID_KURSA");
ALTER TABLE "MUZICKA_TEORIJA" ADD CONSTRAINT "MUZICKA_TEORIJA_PK" PRIMARY KEY ("ID_KURSA") ENABLE;
CREATE UNIQUE INDEX "INDIVIDUALNI_KURS_PK" ON "INDIVIDUALNI_KURS" ("ID_KURSA");
ALTER TABLE "INDIVIDUALNI_KURS" ADD CONSTRAINT "INDIVIDUALNI_KURS_PK" PRIMARY KEY ("ID_KURSA") ENABLE;
CREATE UNIQUE INDEX "GRUPNI_KURS_PK" ON "GRUPNI_KURS" ("ID_KURSA");
ALTER TABLE "GRUPNI_KURS" ADD CONSTRAINT "GRUPNI_KURS_PK" PRIMARY KEY ("ID_KURSA") ENABLE;
CREATE UNIQUE INDEX "NASTAVA_PK" ON "NASTAVA" ("ID_NASTAVE");
ALTER TABLE "NASTAVA" ADD CONSTRAINT "NASTAVA_PK" PRIMARY KEY ("ID_NASTAVE") ENABLE;
CREATE UNIQUE INDEX "LOKACIJA_PK" ON "LOKACIJA" ("ADRESA");
ALTER TABLE "LOKACIJA" ADD CONSTRAINT "LOKACIJA_PK" PRIMARY KEY ("ADRESA") ENABLE;
CREATE UNIQUE INDEX "UCIONICA_PK" ON "UCIONICA" ("NAZIV", "ADRESA");
ALTER TABLE "UCIONICA" ADD CONSTRAINT "UCIONICA_PK" PRIMARY KEY ("NAZIV", "ADRESA") ENABLE;
CREATE UNIQUE INDEX "CAS_PK" ON "CAS" ("ID_CASA");
ALTER TABLE "CAS" ADD CONSTRAINT "CAS_PK" PRIMARY KEY ("ID_CASA") ENABLE;
CREATE UNIQUE INDEX "PRISUSTVO_PK" ON "PRISUSTVO" ("JMBG_POLAZNIKA", "ID_CASA");
ALTER TABLE "PRISUSTVO" ADD CONSTRAINT "PRISUSTVO_PK" PRIMARY KEY ("JMBG_POLAZNIKA", "ID_CASA") ENABLE;
CREATE UNIQUE INDEX "PRIJAVLJEN_PK" ON "PRIJAVLJEN" ("JMBG_POLAZNIKA", "ID_KURSA");
ALTER TABLE "PRIJAVLJEN" ADD CONSTRAINT "PRIJAVLJEN_PK" PRIMARY KEY ("JMBG_POLAZNIKA", "ID_KURSA") ENABLE;
CREATE UNIQUE INDEX "KOMISIJA_PK" ON "KOMISIJA" ("ID_KOMISIJE");
ALTER TABLE "KOMISIJA" ADD CONSTRAINT "KOMISIJA_PK" PRIMARY KEY ("ID_KOMISIJE") ENABLE;
CREATE UNIQUE INDEX "ZAVRSNI_ISPIT_PK" ON "ZAVRSNI_ISPIT" ("ID_KURSA", "DATUM");
ALTER TABLE "ZAVRSNI_ISPIT" ADD CONSTRAINT "ZAVRSNI_ISPIT_PK" PRIMARY KEY ("ID_KURSA", "DATUM") ENABLE;
CREATE UNIQUE INDEX "SE_SASTOJI_PK" ON "SE_SASTOJI" ("ID_KOMISIJE", "JMBG_NASTAVNIKA");
ALTER TABLE "SE_SASTOJI" ADD CONSTRAINT "SE_SASTOJI_PK" PRIMARY KEY ("ID_KOMISIJE", "JMBG_NASTAVNIKA") ENABLE;
CREATE UNIQUE INDEX "ODVIJA_NA_PK" ON "ODVIJA_NA" ("ID_KURSA", "ADRESA");
ALTER TABLE "ODVIJA_NA" ADD CONSTRAINT "ODVIJA_NA_PK" PRIMARY KEY ("ID_KURSA", "ADRESA") ENABLE;
--------------------------------------------------------
--  Constraints for Table OSOBA
--------------------------------------------------------
ALTER TABLE "OSOBA" MODIFY ("JMBG" NOT NULL ENABLE);
ALTER TABLE "OSOBA" MODIFY ("IME" NOT NULL ENABLE);
ALTER TABLE "OSOBA" MODIFY ("PREZIME" NOT NULL ENABLE);
ALTER TABLE "OSOBA" ADD CONSTRAINT "OSOBA_FPOLAZNIK_CHK" CHECK (FPOLAZNIK IN (0,1)) ENABLE;
ALTER TABLE "OSOBA" ADD CONSTRAINT "OSOBA_FRODITELJ_CHK" CHECK (FRODITELJ IN (0,1)) ENABLE;
ALTER TABLE "OSOBA" ADD CONSTRAINT "OSOBA_FNASTAVNIK_CHK" CHECK (FNASTAVNIK IN (0,1)) ENABLE;
--------------------------------------------------------
--  Constraints for Other Tables (NOT NULL)
--------------------------------------------------------
ALTER TABLE "NASTAVA" MODIFY ("DATUM_OD" NOT NULL ENABLE);
ALTER TABLE "NASTAVA" MODIFY ("DATUM_DO" NOT NULL ENABLE);
ALTER TABLE "NASTAVA" MODIFY ("ID_KURSA" NOT NULL ENABLE);
ALTER TABLE "CAS" MODIFY ("DATUM" NOT NULL ENABLE);
ALTER TABLE "CAS" MODIFY ("VREME" NOT NULL ENABLE);
ALTER TABLE "CAS" MODIFY ("JMBG_NASTAVNIKA" NOT NULL ENABLE);
ALTER TABLE "CAS" MODIFY ("ID_NASTAVE" NOT NULL ENABLE);
ALTER TABLE "ZAVRSNI_ISPIT" MODIFY ("ID_KURSA" NOT NULL ENABLE);
ALTER TABLE "ZAVRSNI_ISPIT" MODIFY ("DATUM" NOT NULL ENABLE);
ALTER TABLE "ZAVRSNI_ISPIT" MODIFY ("JMBG_POLAZNIKA" NOT NULL ENABLE);
ALTER TABLE "ZAVRSNI_ISPIT" ADD CONSTRAINT "ZAVRSNI_ISPIT_OCENA_CHK" CHECK (OCENA BETWEEN 5 AND 10) ENABLE;
ALTER TABLE "ZAVRSNI_ISPIT" ADD CONSTRAINT "ZAVRSNI_ISPIT_SERTIFIKAT_CHK" CHECK (SERTIFIKAT IN (0,1)) ENABLE;
--------------------------------------------------------
--  Ref Constraints
--------------------------------------------------------
ALTER TABLE "OSOBA" ADD CONSTRAINT "OSOBA_MENTOR_FK" FOREIGN KEY ("JMBG_MENTORA") REFERENCES "OSOBA" ("JMBG") ENABLE;
ALTER TABLE "ODRASLI_POLAZNIK" ADD CONSTRAINT "ODRASLI_POLAZNIK_OSOBA_FK" FOREIGN KEY ("JMBG") REFERENCES "OSOBA" ("JMBG") ENABLE;
ALTER TABLE "DETE_POLAZNIK" ADD CONSTRAINT "DETE_POLAZNIK_OSOBA_FK" FOREIGN KEY ("JMBG") REFERENCES "OSOBA" ("JMBG") ENABLE;
ALTER TABLE "DETE_POLAZNIK" ADD CONSTRAINT "DETE_POLAZNIK_RODITELJ_FK" FOREIGN KEY ("JMBG_RODITELJA") REFERENCES "OSOBA" ("JMBG") ENABLE;
ALTER TABLE "STALNO_ZAP" ADD CONSTRAINT "STALNO_ZAP_OSOBA_FK" FOREIGN KEY ("JMBG") REFERENCES "OSOBA" ("JMBG") ENABLE;
ALTER TABLE "HONORARAC" ADD CONSTRAINT "HONORARAC_OSOBA_FK" FOREIGN KEY ("JMBG") REFERENCES "OSOBA" ("JMBG") ENABLE;
ALTER TABLE "KURS" ADD CONSTRAINT "KURS_NASTAVNIK_FK" FOREIGN KEY ("JMBG_NASTAVNIKA") REFERENCES "OSOBA" ("JMBG") ENABLE;
ALTER TABLE "INSTRUMENTALNI_KURS" ADD CONSTRAINT "INSTR_KURS_KURS_FK" FOREIGN KEY ("ID_KURSA") REFERENCES "KURS" ("ID_KURSA") ENABLE;
ALTER TABLE "VOKALNI_KURS" ADD CONSTRAINT "VOKALNI_KURS_KURS_FK" FOREIGN KEY ("ID_KURSA") REFERENCES "KURS" ("ID_KURSA") ENABLE;
ALTER TABLE "MUZICKA_TEORIJA" ADD CONSTRAINT "MUZ_TEORIJA_KURS_FK" FOREIGN KEY ("ID_KURSA") REFERENCES "KURS" ("ID_KURSA") ENABLE;
ALTER TABLE "INDIVIDUALNI_KURS" ADD CONSTRAINT "INDIV_KURS_KURS_FK" FOREIGN KEY ("ID_KURSA") REFERENCES "KURS" ("ID_KURSA") ENABLE;
ALTER TABLE "GRUPNI_KURS" ADD CONSTRAINT "GRUPNI_KURS_KURS_FK" FOREIGN KEY ("ID_KURSA") REFERENCES "KURS" ("ID_KURSA") ENABLE;
ALTER TABLE "NASTAVA" ADD CONSTRAINT "NASTAVA_KURS_FK" FOREIGN KEY ("ID_KURSA") REFERENCES "KURS" ("ID_KURSA") ENABLE;
ALTER TABLE "UCIONICA" ADD CONSTRAINT "UCIONICA_LOKACIJA_FK" FOREIGN KEY ("ADRESA") REFERENCES "LOKACIJA" ("ADRESA") ENABLE;
ALTER TABLE "CAS" ADD CONSTRAINT "CAS_NASTAVNIK_FK" FOREIGN KEY ("JMBG_NASTAVNIKA") REFERENCES "OSOBA" ("JMBG") ENABLE;
ALTER TABLE "CAS" ADD CONSTRAINT "CAS_UCIONICA_FK" FOREIGN KEY ("NAZIV_UCIONICE", "ADRESA_LOKACIJE") REFERENCES "UCIONICA" ("NAZIV", "ADRESA") ENABLE;
ALTER TABLE "CAS" ADD CONSTRAINT "CAS_NASTAVA_FK" FOREIGN KEY ("ID_NASTAVE") REFERENCES "NASTAVA" ("ID_NASTAVE") ENABLE;
ALTER TABLE "PRISUSTVO" ADD CONSTRAINT "PRISUSTVO_POLAZNIK_FK" FOREIGN KEY ("JMBG_POLAZNIKA") REFERENCES "OSOBA" ("JMBG") ENABLE;
ALTER TABLE "PRISUSTVO" ADD CONSTRAINT "PRISUSTVO_CAS_FK" FOREIGN KEY ("ID_CASA") REFERENCES "CAS" ("ID_CASA") ENABLE;
ALTER TABLE "PRIJAVLJEN" ADD CONSTRAINT "PRIJAVLJEN_POLAZNIK_FK" FOREIGN KEY ("JMBG_POLAZNIKA") REFERENCES "OSOBA" ("JMBG") ENABLE;
ALTER TABLE "PRIJAVLJEN" ADD CONSTRAINT "PRIJAVLJEN_KURS_FK" FOREIGN KEY ("ID_KURSA") REFERENCES "KURS" ("ID_KURSA") ENABLE;
ALTER TABLE "ZAVRSNI_ISPIT" ADD CONSTRAINT "ZAVRSNI_ISPIT_KURS_FK" FOREIGN KEY ("ID_KURSA") REFERENCES "KURS" ("ID_KURSA") ENABLE;
ALTER TABLE "ZAVRSNI_ISPIT" ADD CONSTRAINT "ZAVRSNI_ISPIT_KOMISIJA_FK" FOREIGN KEY ("ID_KOMISIJE") REFERENCES "KOMISIJA" ("ID_KOMISIJE") ENABLE;
ALTER TABLE "ZAVRSNI_ISPIT" ADD CONSTRAINT "ZAVRSNI_ISPIT_POLAZNIK_FK" FOREIGN KEY ("JMBG_POLAZNIKA") REFERENCES "OSOBA" ("JMBG") ENABLE;
ALTER TABLE "SE_SASTOJI" ADD CONSTRAINT "SE_SASTOJI_KOMISIJA_FK" FOREIGN KEY ("ID_KOMISIJE") REFERENCES "KOMISIJA" ("ID_KOMISIJE") ENABLE;
ALTER TABLE "SE_SASTOJI" ADD CONSTRAINT "SE_SASTOJI_NASTAVNIK_FK" FOREIGN KEY ("JMBG_NASTAVNIKA") REFERENCES "OSOBA" ("JMBG") ENABLE;
ALTER TABLE "ODVIJA_NA" ADD CONSTRAINT "ODVIJA_NA_KURS_FK" FOREIGN KEY ("ID_KURSA") REFERENCES "KURS" ("ID_KURSA") ENABLE;
ALTER TABLE "ODVIJA_NA" ADD CONSTRAINT "ODVIJA_NA_LOKACIJA_FK" FOREIGN KEY ("ADRESA") REFERENCES "LOKACIJA" ("ADRESA") ENABLE;
--------------------------------------------------------
--  DDL for Triggers
--------------------------------------------------------
CREATE OR REPLACE TRIGGER "KURS_AUTO_PK" 
    BEFORE INSERT
    ON KURS
    REFERENCING NEW AS NEW
    FOR EACH ROW
BEGIN
    IF :NEW.ID_KURSA IS NULL THEN
        SELECT KURS_ID_SEQ.NEXTVAL INTO :NEW.ID_KURSA FROM DUAL;
    END IF;
END;
/
ALTER TRIGGER "KURS_AUTO_PK" ENABLE;

CREATE OR REPLACE TRIGGER "NASTAVA_AUTO_PK" 
    BEFORE INSERT
    ON NASTAVA
    REFERENCING NEW AS NEW
    FOR EACH ROW
BEGIN
    IF :NEW.ID_NASTAVE IS NULL THEN
        SELECT NASTAVA_ID_SEQ.NEXTVAL INTO :NEW.ID_NASTAVE FROM DUAL;
    END IF;
END;
/
ALTER TRIGGER "NASTAVA_AUTO_PK" ENABLE;

CREATE OR REPLACE TRIGGER "CAS_AUTO_PK" 
    BEFORE INSERT
    ON CAS
    REFERENCING NEW AS NEW
    FOR EACH ROW
BEGIN
    IF :NEW.ID_CASA IS NULL THEN
        SELECT CAS_ID_SEQ.NEXTVAL INTO :NEW.ID_CASA FROM DUAL;
    END IF;
END;
/
ALTER TRIGGER "CAS_AUTO_PK" ENABLE;

CREATE OR REPLACE TRIGGER "KOMISIJA_AUTO_PK" 
    BEFORE INSERT
    ON KOMISIJA
    REFERENCING NEW AS NEW
    FOR EACH ROW
BEGIN
    IF :NEW.ID_KOMISIJE IS NULL THEN
        SELECT KOMISIJA_ID_SEQ.NEXTVAL INTO :NEW.ID_KOMISIJE FROM DUAL;
    END IF;
END;
/
ALTER TRIGGER "KOMISIJA_AUTO_PK" ENABLE;